<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">

    <link rel="stylesheet" type="text/css" href="style.css">

    <title>Copa Crepony</title>

    <!-- update the version number as needed -->
    <script defer src="/__/firebase/5.0.4/firebase-app.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/5.0.4/firebase-auth.js"></script>
    <script defer src="/__/firebase/5.0.4/firebase-database.js"></script>
    <script defer src="/__/firebase/5.0.4/firebase-messaging.js"></script>
    <script defer src="/__/firebase/5.0.4/firebase-storage.js"></script>
    <!-- initialize the SDK after all desired features are loaded -->
    <script defer src="/__/firebase/init.js"></script>

    <!-- para tabs -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <!-- para firebase -->
    <script src="https://www.gstatic.com/firebasejs/3.8.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.8.0/firebase-database.js"></script>

    <!-- para angular -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.8/angular.min.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/2.3.0/angularfire.js"></script>
      
  </head>
  <body>
    <div></div>
     <div class="container" ng-app="miApp" ng-controller="MainController">
      
      <!-- Titulo de la Página -->
      <div class="row">
        <div class="col-sm-12">
          <hr>
        </div>
        <div class="col-sm-12">
          <h3 class="text-center">Crepony</br>2da Copa de Fútbol Rápido 5</br>2018</h3>
        </div>
        <div class="col-sm-12">
          <hr>
        </div>
      </div>

    <div class="row">
      <div class="col-sm-12">
        <ul class="nav nav-tabs">
          <li class="active"><a data-toggle="tab" href="#home">Principal</a></li>
          <li><a data-toggle="tab" href="#proximaJornada">Próxima Jornada</a></li>
          <li><a data-toggle="tab" href="#tablaGeneral">Tabla General</a></li>
          <li><a data-toggle="tab" href="#tablaGoleoEquipo">Tabla Goleo por Equipo</a></li>
          <li><a data-toggle="tab" href="#tablaMejorDefensa">Tabla Mejor Defensa</a></li>
          <li><a data-toggle="tab" href="#tablaGoleoIndividual">Tabla Goleo Individual</a></li>
          <li><a data-toggle="tab" href="#galeriaFotografica">Galeria Fotografica</a></li>
        </ul> 
      </div>
    </div>

    <div class="tab-content">

    <div id="home" class="tab-pane fade in active">
      <h4>Copa Crepony</h4>
      <p class="text-justify">
          La Copa Crepony en su segunda emisión se lleva a cabo en la cancha de la Primera Sección de Villa Panamericana y tiene como finalidad la sana 
          convivencia de todos los participantes, consulta las bases para inscribir a tu equipo. 
        </p><br>

      <div id="myCarousel" class="carousel slide" data-ride="carousel">
        <!-- Indicators -->
        <ol class="carousel-indicators">
          <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
          <li data-target="#myCarousel" data-slide-to="1"></li>
          <!-- <li data-target="#myCarousel" data-slide-to="2"></li> -->
        </ol>

        <!-- Wrapper for slides -->
        <div class="carousel-inner">
          <div class="item active img-responsive">
            <img src="imagenes/campeon_crepony.jpg" alt="Campeón Crepony" style="width:400px;height:300px;">
            <div class="carousel-caption">
              <h3>Campeón</h3>
              <p>Actual campeón de la Copa Crepony</p>
            </div>
          </div>

          <div class="item">
            <img src="imagenes/campeon1.jpg" alt="Campeón Crepony 2" style="width:400px;height:30 0px;">
            <div class="carousel-caption">
              <h3>Campeón</h3>
              <p>Actual campeón de la Copa Crepony</p>
            </div>
          </div>

          <!-- <div class="item">
            <img src="ny.jpg" alt="New York">
          </div> -->
        </div>

        <!-- Left and right controls -->
        <a class="left carousel-control" href="#myCarousel" data-slide="prev">
          <span class="glyphicon glyphicon-chevron-left"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#myCarousel" data-slide="next">
          <span class="glyphicon glyphicon-chevron-right"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>  

    </div><br>

    <div id="proximaJornada" class="tab-pane fade">
      <h4>Próxima Jornada</h4>
      <p>La tabla del rol de Juegos se actualizará todos los lunes por la noche, mantente al pendiente para ver los próximos partidos.</p>
      <div class="table-responsive">
      <table class="table table-bordered">
        <thead class="thead-light">
          <tr>
            <th>Fecha</th>
            <th>Hora</th>
            <th>Equipo 1</th>
            <th></th>
            <th></th>
            <th>Equipo 2</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
          </tr>
        </tbody>
      </table>
    </div>
    </div>

    <div id="tablaGeneral" class="tab-pane fade">
      <h3>Tabla General</h3>
      <p>La tabla general se actualizará todos los lunes por la noche, mantente al pendiente para ver reflejados los resultados.</p>

      <div class="table-responsive">
      <table class="table table-bordered table-striped" id="tablaGeneral">
        <thead class="thead-light">
          <tr id="tr">
            <th>Equipo</th>
            <th>JJ</th>
            <th>JG</th>
            <th>JE</th>
            <th>JP</th>
            <th>JGS</th>
            <th>JPS</th>
            <th>JGPD</th>
            <th>JPPD</th>
            <th>GF</th>
            <th>GC</th>
            <th>DG</th>
            <th>PTS</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="equipo in equipos | orderBy : ['-Puntos','-DiferenciaGoles']">
          <td>{{equipo.$id}}</td>
          <td>{{equipo.JuegosJugados}}</td>
          <td>{{equipo.JuegosGanados}}</td>
          <td>{{equipo.JuegosEmpatados}}</td>
          <td>{{equipo.JuegosPerdidos}}</td>
          <td>{{equipo.JuegosGanadosShootouts}}</td>
          <td>{{equipo.JuegosPerdidosShootouts}}</td>
          <td>{{equipo.JuegosGanadosPorDefault}}</td>
          <td>{{equipo.JuegosPerdidosPorDefault}}</td>
          <td>{{equipo.GolesFavor}}</td>
          <td>{{equipo.GolesContra}}</td>
          <td>{{equipo.DiferenciaGoles}}</td>
          <td>{{equipo.Puntos}}</td>
          </tr>
        </tbody>
      </table>
    </div>
    </div><br>

    <div id="tablaGoleoIndividual" class="tab-pane fade">
      <h4>Tabla de Goleo Individual</h4>
      <p>La tabla de goleo se actualizará todos los lunes por la noche, mantente al pendiente para ver reflejados los goles de tu equipo.</p>
      <div class="table-responsive">
      <table class="table table-bordered">
        <thead class="thead-light">
          <tr>
            <th>Equipo</th>
            <th>Jugador</th>
            <th>Goles</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="equipo in equipos | orderBy : '-Puntos'">
            
          </tr>
        </tbody>
      </table>
    </div>
    </div>

    <div id="tablaGoleoEquipo" class="tab-pane fade">
      <h4>Tabla de Goleo por Equipo</h4>
      <p>La tabla de goleo por equipo se actualizará todos los lunes por la noche, mantente al pendiente para ver reflejados los goles de tu equipo.</p>
      <div class="table-responsive">
      <table class="table table-bordered">
        <thead class="thead-light">
          <tr>
            <th>Equipo</th>
            <th>JJ</th>
            <th>Goles anotados</th>
            <th>%PP</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="equipo in equipos | orderBy : '-GolesFavor'">
            <td>{{equipo.$id}}</td>
            <td>{{equipo.JuegosJugados}}</td>
            <td>{{equipo.GolesFavor}}</td>
            <td>{{}}</td>
          </tr>
        </tbody>
      </table>
    </div>
    </div>

    <div id="tablaMejorDefensa" class="tab-pane fade">
      <h4>Tabla Mejor Defensa</h4>
      <p>La tabla de mejor defensa se actualizará todos los lunes por la noche, mantente al pendiente para ver reflejados los goles permitidos por tu equipo.</p>
      <div class="table-responsive">
      <table class="table table-bordered">
        <thead class="thead-light">
          <tr>
            <th>Equipo</th>
            <th>JJ</th>
            <th>Goles permitidos</th>
            <th>%PP</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="equipo in equipos | orderBy : 'GolesContra'">
            <td>{{equipo.$id}}</td>
            <td>{{equipo.JuegosJugados}}</td>
            <td>{{equipo.GolesContra}}</td>
            <td>{{}}</td>
          </tr>
        </tbody>
      </table>
    </div>
    </div>

    <div id="galeriaFotografica" class="tab-pane fade">
      <h4>Galería Fotografica</h4>
      <p>La galeria fotografica será actualizada a lo largo del torneo.</p>
      <div class="row">
    <div class="col-md-4">
      <div class="thumbnail">
        <a href="imagenes/puebla.jpeg" target="_blank">
          <img src="imagenes/puebla.jpeg" alt="Puebla" style="width:100%">
          <div class="caption">
            <p>PUEBLA</p>
          </div>
        </a>
      </div>
    </div>
    <div class="col-md-4">
      <div class="thumbnail">
        <a href="imagenes/alemania.jpeg" target="_blank">
          <img src="imagenes/alemania.jpeg" alt="Alemania" style="width:100%">
          <div class="caption">
            <p>ALEMANIA</p>
          </div>
        </a>
      </div>
    </div>
    <div class="col-md-4">
      
    </div>
  </div>
    </div><br>
    <div id="reglamento" class="tab-pane fade">
      <h3>Reglamento del Torneo/h3>
      <p>A continuación te presentamos las reglas del torneo, antes de participar en el mismo te recomendamos leer este reglamento.</p>
    </div><br>
  </div>
  
  <div class="col-sm-12">
          
        </div>
  </div>
  </body>
    <!-- Para la conexión a la base de Firebase -->
    <script src="https://www.gstatic.com/firebasejs/5.0.4/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyBlPEtjW3pE4Nqttzz2W8b2kbVrH_H2fMY",
        authDomain: "crepony.firebaseapp.com",
        databaseURL: "https://crepony.firebaseio.com",
        projectId: "crepony",
        storageBucket: "crepony.appspot.com",
        messagingSenderId: "1077843382350"
      };
      firebase.initializeApp(config);

      //var equiposURL = firebase.database().ref().child("Equipos");
      var equiposURL = firebase.database().ref().child("Equipos").orderByChild('Puntos');
      // var equiposURL = firebase.database().ref().child("Equipos").orderByValue('Puntos').;
      var globalApp = angular.module('miApp',['firebase']);
      globalApp.controller('MainController', function($scope,$firebaseArray,$firebaseObject){
        $scope.equipos = $firebaseArray(equiposURL)
        console.log("EquiposURL: ", equiposURL)
        console.log("$scope.equipos: ", $scope.equipos)
      });

    </script>
</html>
